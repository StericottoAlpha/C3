{% extends "base.html" %}

{% block title %}GenbaNote{% endblock %}

{% block content %}
<div class="min-h-screen relative overflow-hidden bg-[#b9cfcc] pb-28">

  <div class="absolute inset-0 pointer-events-none">
    <div class="absolute inset-0 bg-gradient-to-b from-white/10 via-transparent to-black/5"></div>
    <div class="absolute inset-0 opacity-[0.07]"
         style="background-image: radial-gradient(rgba(0,0,0,.35) 0.6px, transparent 0.6px);
                background-size: 12px 12px;"></div>
  </div>

  <div class="absolute inset-0 pointer-events-none z-0">

    <svg class="absolute left-6 top-24 w-64 opacity-[0.10]" viewBox="0 0 360 120" fill="none">
      <path d="M10 70 C80 20, 140 110, 210 60 C270 20, 310 95, 350 55"
            stroke="#2f2f2f" stroke-width="2" stroke-linecap="round"/>
    </svg>

    <svg class="absolute right-6 top-40 w-64 opacity-[0.10]" viewBox="0 0 360 120" fill="none">
      <path d="M10 55 C70 95, 135 10, 205 60 C270 110, 305 25, 350 70"
            stroke="#2f2f2f" stroke-width="2" stroke-linecap="round"/>
    </svg>

    <svg class="absolute left-8 bottom-44 w-72 opacity-[0.10]" viewBox="0 0 420 140" fill="none">
      <path d="M10 85 C100 20, 170 130, 250 70 C320 20, 360 115, 410 60"
            stroke="#2f2f2f" stroke-width="2" stroke-linecap="round"/>
    </svg>

    <svg class="absolute right-10 bottom-28 w-72 opacity-[0.10]" viewBox="0 0 420 140" fill="none">
      <path d="M10 60 C80 115, 170 15, 250 75 C315 130, 360 35, 410 85"
            stroke="#2f2f2f" stroke-width="2" stroke-linecap="round"/>
    </svg>

    <div class="absolute left-8 top-20 w-28 h-28 rounded-full border border-white/28"></div>
    <div class="absolute left-24 top-44 w-16 h-16 rounded-full border border-white/18"></div>
    <div class="absolute right-10 top-24 w-24 h-24 rounded-full border border-white/24"></div>
    <div class="absolute right-28 top-56 w-14 h-14 rounded-full border border-white/16"></div>
    <div class="absolute left-10 bottom-28 w-36 h-36 rounded-full border border-white/20"></div>
    <div class="absolute -right-12 -bottom-8 w-44 h-44 rounded-full border border-white/18"></div>
    <div class="absolute left-0 top-8 w-56 h-56 rounded-full border border-white/10 blur-[0.6px]"></div>
    <div class="absolute right-0 bottom-36 w-64 h-64 rounded-full border border-white/10 blur-[0.8px]"></div>

    <div class="absolute left-14 top-60 w-1.5 h-1.5 rounded-full bg-[#2f2f2f]/30"></div>
    <div class="absolute left-28 top-78 w-1 h-1 rounded-full bg-[#2f2f2f]/28"></div>
    <div class="absolute left-10 top-84 w-2 h-2 rounded-full bg-[#2f2f2f]/18"></div>
    <div class="absolute right-16 top-64 w-1.5 h-1.5 rounded-full bg-[#2f2f2f]/30"></div>
    <div class="absolute right-30 top-84 w-1 h-1 rounded-full bg-[#2f2f2f]/28"></div>
    <div class="absolute right-10 top-92 w-2 h-2 rounded-full bg-[#2f2f2f]/18"></div>
    <div class="absolute left-16 bottom-72 w-1.5 h-1.5 rounded-full bg-[#2f2f2f]/30"></div>
    <div class="absolute left-36 bottom-64 w-1 h-1 rounded-full bg-[#2f2f2f]/28"></div>
    <div class="absolute left-10 bottom-84 w-2 h-2 rounded-full bg-[#2f2f2f]/18"></div>
    <div class="absolute right-18 bottom-72 w-1.5 h-1.5 rounded-full bg-[#2f2f2f]/30"></div>
    <div class="absolute right-36 bottom-64 w-1 h-1 rounded-full bg-[#2f2f2f]/28"></div>
    <div class="absolute right-12 bottom-92 w-2 h-2 rounded-full bg-[#2f2f2f]/18"></div>
  </div>

  <div class="relative z-10 pt-12 text-center text-[#2f2f2f]">
    <p class="text-4xl font-semibold tracking-[0.12em] font-serif">
      {% now "Y" %}
    </p>

    <div class="mt-2 flex items-center justify-center gap-4">
      <h1 class="text-[84px] leading-none font-semibold font-serif tracking-[0.06em]">
        {% now "m.d" %}
      </h1>
      <span class="inline-flex items-center justify-center w-12 h-12 rounded-full bg-[#2f2f2f] text-white text-lg font-bold shadow">
        {% now "D" %}
      </span>
    </div>

    <p class="mt-3 text-lg text-white/90">おはようございます</p>

    <p class="mt-1 text-2xl font-bold">
      {% if user.last_name and user.first_name %}
        {{ user.last_name }}　{{ user.first_name }} <span class="text-base font-medium opacity-80">さん</span>
      {% else %}
        {{ user.username }} <span class="text-base font-medium opacity-80">さん</span>
      {% endif %}
    </p>
  </div>

  <div class="relative z-10 mt-5 flex justify-center px-6">
    <div class="relative w-full max-w-xl">

      <div class="relative h-24">
        <div class="absolute left-1/2 top-7 -translate-x-1/2">
          <div class="w-3 h-3 rounded-full bg-[#2f2f2f] shadow"></div> <!--black point-->
        </div>

        <svg class="absolute inset-x-0 top-0 h-24 w-full pointer-events-none" viewBox="0 0 1000 240" preserveAspectRatio="none">
          <path d="M500 80 L160 220" stroke="rgba(255,255,255,0.85)" stroke-width="6" stroke-linecap="round"/>
          <path d="M500 80 L840 220" stroke="rgba(255,255,255,0.85)" stroke-width="6" stroke-linecap="round"/>
          <path d="M500 84 L160 224" stroke="rgba(0,0,0,0.12)" stroke-width="6" stroke-linecap="round"/>
          <path d="M500 84 L840 224" stroke="rgba(0,0,0,0.12)" stroke-width="6" stroke-linecap="round"/>
        </svg>
      </div>

      <div class="relative -top-2 mx-auto w-full rounded-2xl bg-white/75 shadow-[0_16px_40px_rgba(0,0,0,0.16)] border border-white/70">

        <div class="px-10 py-10 text-center">
            <div class="flex items-center justify-center gap-4 text-[#6a8f8a] font-bold text-xl">
                <svg class="w-7 h-7 opacity-80" viewBox="0 0 24 24" fill="none">
                    <path d="M19 5c-7 1-12 6-13 13c7-1 12-6 13-13Z" stroke="currentColor" stroke-width="1.9" stroke-linejoin="round"/>
                    <path d="M7 18c3-4 7-8 12-12" stroke="currentColor" stroke-width="1.9" stroke-linecap="round"/>
                </svg>

                <span class="tracking-wider">今月の目標</span>

                <svg class="w-7 h-7 opacity-80 scale-x-[-1]" viewBox="0 0 24 24" fill="none">
                    <path d="M19 5c-7 1-12 6-13 13c7-1 12-6 13-13Z" stroke="currentColor" stroke-width="1.9" stroke-linejoin="round"/>
                    <path d="M7 18c3-4 7-8 12-12" stroke="currentColor" stroke-width="1.9" stroke-linecap="round"/>
                </svg>
            </div>

          <div class="mt-8 text-xl text-[#2f2f2f] font-medium px-6">
            {% if monthly_goal and monthly_goal.goal_text %}
              {{ monthly_goal.goal_text|linebreaksbr }}
            {% else %}
              <span class="opacity-70">目標未設定</span>
            {% endif %}
          </div>
          {% if user.store %}
            <div class="mt-3 text-sm text-[#2f2f2f]/55">
              {{ user.store.store_name }}
            </div>
          {% endif %}
        </div>

        <div class="absolute inset-x-10 bottom-3 h-2 bg-black/10 blur-md rounded-full"></div>
      </div>
    </div>
  </div>

  <a href="/report/register/"
     class="fixed right-4 bottom-28 w-24 h-24 rounded-full bg-white shadow-[0_16px_30px_rgba(0,0,0,0.25)]
            flex flex-col items-center justify-center z-20">
    <div class="w-12 h-12 rounded-2xl bg-black/5 flex items-center justify-center mb-2">
      <svg class="w-12 h-12 text-[#2f2f2f]" viewBox="0 0 24 24" fill="none">
        <path d="M7 3h8l3 3v15a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Z" stroke="currentColor" stroke-width="1.8"/>
        <path d="M15 3v4h4" stroke="currentColor" stroke-width="1.8"/>
        <path d="M8 11h8M8 15h8" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
      </svg>
    </div>
    <span class="text-sm font-bold text-[#2f2f2f] tracking-wider">日報登録</span>
  </a>

</div>
{% endblock %}