{% extends "base.html" %}

{% block title %}C3 ステリコットα{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto mt-12 px-4">
    <h1 class="text-2xl font-bold mb-2">Hello World - DB接続テスト</h1>
    <p class="text-gray-600 mb-6">
        このページにアクセスするたびにデータベースに記録されます。
    </p>

    <div class="border border-gray-200 rounded-lg p-4 bg-white">
        <h2 class="text-lg font-semibold mb-3">
            訪問記録
            <span class="ml-2 px-2 py-1 bg-blue-500 text-white text-xs rounded">
                {{ visits.count }}件
            </span>
        </h2>

        {% if visits %}
            <ul class="divide-y divide-gray-100 text-sm">
                {% for visit in visits %}
                <li class="py-2">
                    <strong>{{ forloop.counter }}.</strong>
                    {{ visit.message }} -
                    <span class="text-gray-500">
                        {{ visit.visited_at|date:"Y-m-d H:i:s" }}
                    </span>
                </li>
                {% endfor %}
            </ul>
        {% else %}
            <p class="text-gray-500">まだ記録がありません。</p>
        {% endif %}
    </div>
</div>
{% endblock %}
