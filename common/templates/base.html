<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}C3 ステリコットα{% endblock %}</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/static/common/icons/icon-192x192.png">

    <!-- PWA設定 -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#5fa8a8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="ステリコットα">
    <link rel="apple-touch-icon" href="/static/common/icons/icon-192x192.png">

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#5fa8a8',
                        'primary-dark': '#4d8f8f',
                        'primary-light': '#a8d5d5',
                    }
                }
            }
        }
    </script>

    {% block extra_head %}{% endblock %}
</head>

<body class="{% block body_class %}bg-gray-50 pb-16{% endblock %}">
    <!-- メインコンテンツ -->
    {% block body %}
        {% block content %}{% endblock %}
    {% endblock %}

    <!-- ボトムナビ（ログイン時のみ・全画面共通） -->
    {% if user.is_authenticated %}
        {% include "common/components/bottom_nav.html" %}
    {% endif %}

    {% block extra_js %}{% endblock %}

    <!-- Service Worker登録 -->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/service-worker.js');
        }
    </script>
</body>
</html>
